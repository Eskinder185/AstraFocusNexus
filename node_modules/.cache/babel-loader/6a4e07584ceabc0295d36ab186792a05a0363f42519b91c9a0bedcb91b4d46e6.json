{"ast":null,"code":"import _objectSpread from\"C:/Users/eskew/github/tasktracker/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useMemo,useRef,useState}from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const DEFAULTS={focusMin:25,shortMin:5,longMin:15,cyclesBeforeLong:4,autoStartNext:true};function format(ms){const s=Math.max(0,Math.round(ms/1000));const m=Math.floor(s/60);const r=s%60;return\"\".concat(String(m).padStart(2,\"0\"),\":\").concat(String(r).padStart(2,\"0\"));}/** Try web notification; returns true if a notification was shown */async function tryNotify(title,body){if(!(\"Notification\"in window))return false;// If user hasn't decided yet, politely ask\nif(Notification.permission===\"default\"){try{await Notification.requestPermission();}catch(_unused){}}if(Notification.permission===\"granted\"){try{new Notification(title,{body,tag:\"pomodoro\"});return true;}catch(_unused2){}}return false;}// --- Secondary alert methods (work even if notifications are blocked) ---\nfunction playChime(audioRef){const a=audioRef.current;if(a){a.currentTime=0;a.volume=1;a.play().catch(()=>{// fallback: simple beep\ntry{const Ctx=window.AudioContext||window.webkitAudioContext;const ctx=new Ctx();const osc=ctx.createOscillator();const gain=ctx.createGain();osc.type=\"sine\";osc.frequency.value=880;osc.connect(gain);gain.connect(ctx.destination);gain.gain.setValueAtTime(0.001,ctx.currentTime);gain.gain.exponentialRampToValueAtTime(0.6,ctx.currentTime+0.03);osc.start();setTimeout(()=>{gain.gain.exponentialRampToValueAtTime(0.0001,ctx.currentTime+0.25);osc.stop(ctx.currentTime+0.27);},230);}catch(_unused3){}});}}function vibrate(){if(\"vibrate\"in navigator){try{navigator.vibrate([200,100,200]);}catch(_unused4){}}}function flashTitleStart(store,handle){if(handle.current)return;store.current=document.title;let on=false;handle.current=window.setInterval(()=>{on=!on;document.title=on?\"⏰ Pomodoro done!\":store.current;},800);}function flashTitleStop(store,handle){if(handle.current){window.clearInterval(handle.current);handle.current=null;document.title=store.current||document.title;}}const PomodoroTimer=_ref=>{let{activeTaskTitle,onFocusComplete}=_ref;const[settings,setSettings]=useState(()=>{try{const raw=localStorage.getItem(\"pomodoro.settings\");return raw?_objectSpread(_objectSpread({},DEFAULTS),JSON.parse(raw)):DEFAULTS;}catch(_unused5){return DEFAULTS;}});// session state\nconst[mode,setMode]=useState(\"focus\");const[running,setRunning]=useState(false);const[endAt,setEndAt]=useState(null);const[remaining,setRemaining]=useState(settings.focusMin*60000);const[cycle,setCycle]=useState(0);// completed focus sessions in current block\n// permission/bell state\nconst[perm,setPerm]=useState(\"default\");// refs for secondary alerts\nconst audioRef=useRef(null);const originalTitleRef=useRef(document.title);const flasherRef=useRef(null);// persist settings\nuseEffect(()=>{localStorage.setItem(\"pomodoro.settings\",JSON.stringify(settings));},[settings]);// init notification permission + tiny inline chime\nuseEffect(()=>{if(!(\"Notification\"in window))setPerm(\"unsupported\");else setPerm(Notification.permission);// tiny inline WAV so it works offline (attach to the existing <audio>)\ntry{if(audioRef.current){audioRef.current.src=\"data:audio/wav;base64,UklGRiQAAABXQVZFZm10IBAAAAABAAEAESsAACJWAAACABYAAAACAAAAPGZmZmZmZmZm\";}}catch(_unused6){}},[]);// compute target duration for current mode\nconst durationMs=useMemo(()=>{if(mode===\"focus\")return settings.focusMin*60000;if(mode===\"short\")return settings.shortMin*60000;return settings.longMin*60000;},[mode,settings]);// keep remaining in sync when mode/duration changes (if not running)\nuseEffect(()=>{if(!running)setRemaining(durationMs);},[durationMs,running]);// main ticker\nuseEffect(()=>{if(!running||endAt==null)return;const id=window.setInterval(()=>{const now=Date.now();const left=endAt-now;setRemaining(left);if(left<=0){window.clearInterval(id);setRunning(false);setRemaining(0);// session complete\n(async()=>{if(mode===\"focus\"){// 1) Web notification (if allowed)\nconst title=\"Focus complete ✅\";const body=activeTaskTitle?\"Task: \".concat(activeTaskTitle):\"Take a break!\";await tryNotify(title,body);// 2) Secondary alerts (always try)\nplayChime(audioRef);vibrate();flashTitleStart(originalTitleRef,flasherRef);// auto stop flashing after 20s\nwindow.setTimeout(()=>flashTitleStop(originalTitleRef,flasherRef),20000);// callback to parent\nonFocusComplete===null||onFocusComplete===void 0?void 0:onFocusComplete();// choose next mode\nconst nextMode=(cycle+1)%settings.cyclesBeforeLong===0?\"long\":\"short\";setCycle(c=>c+1);setMode(nextMode);// prepare next session\nconst nextDur=(nextMode===\"long\"?settings.longMin:settings.shortMin)*60000;setRemaining(nextDur);if(settings.autoStartNext)start(nextDur);}else{// Break finished\nconst title=mode===\"short\"?\"Short break over ☕\":\"Long break over 🌿\";await tryNotify(title,\"Time to focus again!\");playChime(audioRef);vibrate();flashTitleStart(originalTitleRef,flasherRef);window.setTimeout(()=>flashTitleStop(originalTitleRef,flasherRef),20000);setMode(\"focus\");const nextDur=settings.focusMin*60000;setRemaining(nextDur);if(settings.autoStartNext)start(nextDur);}})();}},250);return()=>window.clearInterval(id);// eslint-disable-next-line react-hooks/exhaustive-deps\n},[running,endAt,mode,settings,cycle,activeTaskTitle]);const start=dur=>{// If user hasn't made a choice yet, ask once they start\nif(\"Notification\"in window&&Notification.permission===\"default\"){Notification.requestPermission().then(p=>setPerm(p));}flashTitleStop(originalTitleRef,flasherRef);// clear any previous flashing\nconst resumeMs=typeof dur==='number'?dur:Math.max(0,remaining);const nextMs=resumeMs>0?resumeMs:durationMs;setEndAt(Date.now()+nextMs);setRunning(true);// Fire a start notification (best-effort so users get an immediate cue)\ntryNotify(mode===\"focus\"?\"Focus started\":mode===\"short\"?\"Short break started\":\"Long break started\",activeTaskTitle?\"Task: \".concat(activeTaskTitle):\"\");};const pause=()=>setRunning(false);const reset=()=>{setRunning(false);setEndAt(null);setRemaining(durationMs);flashTitleStop(originalTitleRef,flasherRef);};const skip=()=>{// force-complete current mode\nsetRunning(false);setRemaining(0);flashTitleStop(originalTitleRef,flasherRef);if(mode===\"focus\"){setCycle(c=>c+1);onFocusComplete===null||onFocusComplete===void 0?void 0:onFocusComplete();const next=(cycle+1)%settings.cyclesBeforeLong===0?\"long\":\"short\";setMode(next);}else{setMode(\"focus\");}setTimeout(()=>{if(settings.autoStartNext)start();else reset();},0);};const requestPermission=async()=>{if(!(\"Notification\"in window))return alert(\"Notifications not supported.\");if(Notification.permission===\"denied\"){setPerm(\"denied\");alert([\"Notifications are blocked for this site.\",\"To enable: click the lock icon in the address bar → Site settings → Notifications → Allow.\"].join(\"\\n\"));return;}try{const res=await Notification.requestPermission();setPerm(res);if(res!==\"granted\")alert(\"Notifications denied.\");else{// Show a quick test notification so the user can confirm it works\nawait tryNotify(\"Notifications enabled\",\"You'll get alerts at start and end.\");}}catch(_unused7){alert(\"Could not request notifications.\");}};return/*#__PURE__*/_jsxs(\"div\",{className:\"pomodoro\",children:[/*#__PURE__*/_jsx(\"audio\",{ref:audioRef,style:{display:\"none\"}}),/*#__PURE__*/_jsxs(\"div\",{className:\"pomodoro__head\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"pomodoro__modes\",children:[\"focus\",\"short\",\"long\"].map(m=>/*#__PURE__*/_jsx(\"button\",{className:\"pill \".concat(mode===m?\"active\":\"\"),onClick:()=>{setMode(m);setRunning(false);setEndAt(null);flashTitleStop(originalTitleRef,flasherRef);},children:m===\"focus\"?\"Focus\":m===\"short\"?\"Short\":\"Long\"},m))}),/*#__PURE__*/_jsx(\"button\",{className:\"pill\",onClick:requestPermission,title:\"Enable notifications\",disabled:perm===\"unsupported\",children:perm===\"granted\"?\"🔔\":\"🔕\"})]}),activeTaskTitle&&/*#__PURE__*/_jsxs(\"div\",{className:\"pomodoro__task\",title:\"Active task\",children:[\"\\uD83C\\uDFAF \",activeTaskTitle]}),/*#__PURE__*/_jsx(\"div\",{className:\"pomodoro__timer\",children:format(remaining)}),/*#__PURE__*/_jsxs(\"div\",{className:\"pomodoro__controls\",children:[!running?/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:()=>start(),children:\"Start\"}):/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:pause,children:\"Pause\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:reset,children:\"Reset\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:skip,children:\"Skip\"})]}),/*#__PURE__*/_jsxs(\"details\",{className:\"pomodoro__settings\",children:[/*#__PURE__*/_jsx(\"summary\",{children:\"Settings\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid2\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Focus (min)\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:1,value:settings.focusMin,onChange:e=>setSettings(s=>_objectSpread(_objectSpread({},s),{},{focusMin:+e.target.value||1}))})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Short break (min)\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:1,value:settings.shortMin,onChange:e=>setSettings(s=>_objectSpread(_objectSpread({},s),{},{shortMin:+e.target.value||1}))})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Long break (min)\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:1,value:settings.longMin,onChange:e=>setSettings(s=>_objectSpread(_objectSpread({},s),{},{longMin:+e.target.value||1}))})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Cycles before long\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:1,value:settings.cyclesBeforeLong,onChange:e=>setSettings(s=>_objectSpread(_objectSpread({},s),{},{cyclesBeforeLong:Math.max(1,+e.target.value||1)}))})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"rowFlex\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:settings.autoStartNext,onChange:e=>setSettings(s=>_objectSpread(_objectSpread({},s),{},{autoStartNext:e.target.checked}))}),\"Auto-start next\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"muted\",children:[\"Completed in block: \",cycle]})]})]})]});};export default PomodoroTimer;","map":{"version":3,"names":["React","useEffect","useMemo","useRef","useState","jsx","_jsx","jsxs","_jsxs","DEFAULTS","focusMin","shortMin","longMin","cyclesBeforeLong","autoStartNext","format","ms","s","Math","max","round","m","floor","r","concat","String","padStart","tryNotify","title","body","window","Notification","permission","requestPermission","_unused","tag","_unused2","playChime","audioRef","a","current","currentTime","volume","play","catch","Ctx","AudioContext","webkitAudioContext","ctx","osc","createOscillator","gain","createGain","type","frequency","value","connect","destination","setValueAtTime","exponentialRampToValueAtTime","start","setTimeout","stop","_unused3","vibrate","navigator","_unused4","flashTitleStart","store","handle","document","on","setInterval","flashTitleStop","clearInterval","PomodoroTimer","_ref","activeTaskTitle","onFocusComplete","settings","setSettings","raw","localStorage","getItem","_objectSpread","JSON","parse","_unused5","mode","setMode","running","setRunning","endAt","setEndAt","remaining","setRemaining","cycle","setCycle","perm","setPerm","originalTitleRef","flasherRef","setItem","stringify","src","_unused6","durationMs","id","now","Date","left","nextMode","c","nextDur","dur","then","p","resumeMs","nextMs","pause","reset","skip","next","alert","join","res","_unused7","className","children","ref","style","display","map","onClick","disabled","min","onChange","e","target","checked"],"sources":["C:/Users/eskew/github/tasktracker/src/PomodoroTimer.tsx"],"sourcesContent":["import React, { useEffect, useMemo, useRef, useState } from \"react\";\r\n\r\ntype Mode = \"focus\" | \"short\" | \"long\";\r\n\r\nexport interface PomodoroSettings {\r\n  focusMin: number;\r\n  shortMin: number;\r\n  longMin: number;\r\n  cyclesBeforeLong: number;\r\n  autoStartNext: boolean;\r\n}\r\n\r\nconst DEFAULTS: PomodoroSettings = {\r\n  focusMin: 25,\r\n  shortMin: 5,\r\n  longMin: 15,\r\n  cyclesBeforeLong: 4,\r\n  autoStartNext: true,\r\n};\r\n\r\nfunction format(ms: number) {\r\n  const s = Math.max(0, Math.round(ms / 1000));\r\n  const m = Math.floor(s / 60);\r\n  const r = s % 60;\r\n  return `${String(m).padStart(2, \"0\")}:${String(r).padStart(2, \"0\")}`;\r\n}\r\n\r\n/** Try web notification; returns true if a notification was shown */\r\nasync function tryNotify(title: string, body: string) {\r\n  if (!(\"Notification\" in window)) return false;\r\n  // If user hasn't decided yet, politely ask\r\n  if (Notification.permission === \"default\") {\r\n    try { await Notification.requestPermission(); } catch {}\r\n  }\r\n  if (Notification.permission === \"granted\") {\n    try { new Notification(title, { body, tag: \"pomodoro\" }); return true; } catch {}\n  }\n  return false;\r\n}\r\n\r\n// --- Secondary alert methods (work even if notifications are blocked) ---\r\nfunction playChime(audioRef: React.MutableRefObject<HTMLAudioElement | null>) {\r\n  const a = audioRef.current;\r\n  if (a) {\r\n    a.currentTime = 0;\r\n    a.volume = 1;\r\n    a.play().catch(() => {\r\n      // fallback: simple beep\r\n      try {\r\n        const Ctx = (window as any).AudioContext || (window as any).webkitAudioContext;\r\n        const ctx = new Ctx();\r\n        const osc = ctx.createOscillator();\r\n        const gain = ctx.createGain();\r\n        osc.type = \"sine\"; osc.frequency.value = 880;\r\n        osc.connect(gain); gain.connect(ctx.destination);\r\n        gain.gain.setValueAtTime(0.001, ctx.currentTime);\r\n        gain.gain.exponentialRampToValueAtTime(0.6, ctx.currentTime + 0.03);\r\n        osc.start();\r\n        setTimeout(() => {\r\n          gain.gain.exponentialRampToValueAtTime(0.0001, ctx.currentTime + 0.25);\r\n          osc.stop(ctx.currentTime + 0.27);\r\n        }, 230);\r\n      } catch {}\r\n    });\r\n  }\r\n}\r\nfunction vibrate() {\r\n  if (\"vibrate\" in navigator) {\r\n    try { navigator.vibrate([200, 100, 200]); } catch {}\r\n  }\r\n}\r\nfunction flashTitleStart(store: React.MutableRefObject<string>, handle: React.MutableRefObject<number | null>) {\r\n  if (handle.current) return;\r\n  store.current = document.title;\r\n  let on = false;\r\n  handle.current = window.setInterval(() => {\r\n    on = !on;\r\n    document.title = on ? \"⏰ Pomodoro done!\" : store.current;\r\n  }, 800) as unknown as number;\r\n}\r\nfunction flashTitleStop(store: React.MutableRefObject<string>, handle: React.MutableRefObject<number | null>) {\r\n  if (handle.current) {\r\n    window.clearInterval(handle.current);\r\n    handle.current = null;\r\n    document.title = store.current || document.title;\r\n  }\r\n}\r\n\r\ntype Props = {\r\n  activeTaskTitle?: string;\r\n  onFocusComplete?: () => void; // called when a focus session completes\r\n};\r\n\r\nconst PomodoroTimer: React.FC<Props> = ({ activeTaskTitle, onFocusComplete }) => {\r\n  const [settings, setSettings] = useState<PomodoroSettings>(() => {\r\n    try {\r\n      const raw = localStorage.getItem(\"pomodoro.settings\");\r\n      return raw ? { ...DEFAULTS, ...JSON.parse(raw) } : DEFAULTS;\r\n    } catch {\r\n      return DEFAULTS;\r\n    }\r\n  });\r\n\r\n  // session state\r\n  const [mode, setMode] = useState<Mode>(\"focus\");\r\n  const [running, setRunning] = useState(false);\r\n  const [endAt, setEndAt] = useState<number | null>(null);\r\n  const [remaining, setRemaining] = useState<number>(settings.focusMin * 60_000);\r\n  const [cycle, setCycle] = useState<number>(0); // completed focus sessions in current block\r\n\r\n  // permission/bell state\r\n  const [perm, setPerm] = useState<NotificationPermission | \"unsupported\">(\"default\");\r\n\r\n  // refs for secondary alerts\r\n  const audioRef = useRef<HTMLAudioElement | null>(null);\r\n  const originalTitleRef = useRef<string>(document.title);\r\n  const flasherRef = useRef<number | null>(null);\r\n\r\n  // persist settings\r\n  useEffect(() => {\r\n    localStorage.setItem(\"pomodoro.settings\", JSON.stringify(settings));\r\n  }, [settings]);\r\n\r\n  // init notification permission + tiny inline chime\r\n  useEffect(() => {\r\n    if (!(\"Notification\" in window)) setPerm(\"unsupported\");\r\n    else setPerm(Notification.permission);\r\n\r\n    // tiny inline WAV so it works offline (attach to the existing <audio>)\n    try {\n      if (audioRef.current) {\n        audioRef.current.src =\n          \"data:audio/wav;base64,UklGRiQAAABXQVZFZm10IBAAAAABAAEAESsAACJWAAACABYAAAACAAAAPGZmZmZmZmZm\";\n      }\n    } catch {}\n  }, []);\n\r\n  // compute target duration for current mode\r\n  const durationMs = useMemo(() => {\r\n    if (mode === \"focus\") return settings.focusMin * 60_000;\r\n    if (mode === \"short\") return settings.shortMin * 60_000;\r\n    return settings.longMin * 60_000;\r\n  }, [mode, settings]);\r\n\r\n  // keep remaining in sync when mode/duration changes (if not running)\r\n  useEffect(() => {\r\n    if (!running) setRemaining(durationMs);\r\n  }, [durationMs, running]);\r\n\r\n  // main ticker\r\n  useEffect(() => {\r\n    if (!running || endAt == null) return;\r\n\r\n    const id = window.setInterval(() => {\r\n      const now = Date.now();\r\n      const left = endAt - now;\r\n      setRemaining(left);\r\n      if (left <= 0) {\r\n        window.clearInterval(id);\r\n        setRunning(false);\r\n        setRemaining(0);\r\n\r\n        // session complete\r\n        (async () => {\r\n          if (mode === \"focus\") {\r\n            // 1) Web notification (if allowed)\r\n            const title = \"Focus complete ✅\";\r\n            const body = activeTaskTitle ? `Task: ${activeTaskTitle}` : \"Take a break!\";\r\n            await tryNotify(title, body);\n\r\n            // 2) Secondary alerts (always try)\r\n            playChime(audioRef);\r\n            vibrate();\r\n            flashTitleStart(originalTitleRef, flasherRef);\r\n            // auto stop flashing after 20s\r\n            window.setTimeout(() => flashTitleStop(originalTitleRef, flasherRef), 20_000);\r\n\r\n            // callback to parent\r\n            onFocusComplete?.();\r\n\r\n            // choose next mode\r\n            const nextMode =\r\n              (cycle + 1) % settings.cyclesBeforeLong === 0 ? \"long\" : \"short\";\r\n            setCycle((c) => c + 1);\r\n            setMode(nextMode);\r\n\r\n            // prepare next session\r\n            const nextDur = (nextMode === \"long\" ? settings.longMin : settings.shortMin) * 60_000;\r\n            setRemaining(nextDur);\r\n            if (settings.autoStartNext) start(nextDur);\r\n          } else {\r\n            // Break finished\r\n            const title = mode === \"short\" ? \"Short break over ☕\" : \"Long break over 🌿\";\r\n            await tryNotify(title, \"Time to focus again!\");\r\n            playChime(audioRef);\r\n            vibrate();\r\n            flashTitleStart(originalTitleRef, flasherRef);\r\n            window.setTimeout(() => flashTitleStop(originalTitleRef, flasherRef), 20_000);\r\n\r\n            setMode(\"focus\");\r\n            const nextDur = settings.focusMin * 60_000;\r\n            setRemaining(nextDur);\r\n            if (settings.autoStartNext) start(nextDur);\r\n          }\r\n        })();\r\n      }\r\n    }, 250);\r\n\r\n    return () => window.clearInterval(id);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [running, endAt, mode, settings, cycle, activeTaskTitle]);\r\n\r\n  const start = (dur?: number) => {\n    // If user hasn't made a choice yet, ask once they start\r\n    if (\"Notification\" in window && Notification.permission === \"default\") {\r\n      Notification.requestPermission().then((p) => setPerm(p));\r\n    }\r\n    flashTitleStop(originalTitleRef, flasherRef); // clear any previous flashing\n    const resumeMs = (typeof dur === 'number' ? dur : Math.max(0, remaining));\n    const nextMs = resumeMs > 0 ? resumeMs : durationMs;\n    setEndAt(Date.now() + nextMs);\n    setRunning(true);\n    // Fire a start notification (best-effort so users get an immediate cue)\n    tryNotify(\n      mode === \"focus\" ? \"Focus started\" : mode === \"short\" ? \"Short break started\" : \"Long break started\",\n      activeTaskTitle ? `Task: ${activeTaskTitle}` : \"\"\n    );\n  };\n  const pause = () => setRunning(false);\r\n  const reset = () => {\r\n    setRunning(false);\r\n    setEndAt(null);\r\n    setRemaining(durationMs);\r\n    flashTitleStop(originalTitleRef, flasherRef);\r\n  };\r\n  const skip = () => {\r\n    // force-complete current mode\r\n    setRunning(false);\r\n    setRemaining(0);\r\n    flashTitleStop(originalTitleRef, flasherRef);\r\n\r\n    if (mode === \"focus\") {\r\n      setCycle((c) => c + 1);\r\n      onFocusComplete?.();\r\n      const next = (cycle + 1) % settings.cyclesBeforeLong === 0 ? \"long\" : \"short\";\r\n      setMode(next);\r\n    } else {\r\n      setMode(\"focus\");\r\n    }\r\n    setTimeout(() => {\r\n      if (settings.autoStartNext) start();\r\n      else reset();\r\n    }, 0);\r\n  };\r\n\r\n  const requestPermission = async () => {\n    if (!(\"Notification\" in window)) return alert(\"Notifications not supported.\");\n    if (Notification.permission === \"denied\") {\n      setPerm(\"denied\");\n      alert(\n        [\n          \"Notifications are blocked for this site.\",\n          \"To enable: click the lock icon in the address bar → Site settings → Notifications → Allow.\",\n        ].join(\"\\n\")\n      );\n      return;\n    }\n    try {\n      const res = await Notification.requestPermission();\n      setPerm(res);\n      if (res !== \"granted\") alert(\"Notifications denied.\");\n      else {\n        // Show a quick test notification so the user can confirm it works\n        await tryNotify(\"Notifications enabled\", \"You'll get alerts at start and end.\");\n      }\n    } catch {\n      alert(\"Could not request notifications.\");\n    }\n  };\n\r\n  return (\r\n    <div className=\"pomodoro\">\r\n      {/* hidden audio for chime */}\r\n      <audio ref={audioRef} style={{ display: \"none\" }} />\r\n\r\n      <div className=\"pomodoro__head\">\r\n        <div className=\"pomodoro__modes\">\r\n          {([\"focus\", \"short\", \"long\"] as Mode[]).map((m) => (\r\n            <button\r\n              key={m}\r\n              className={`pill ${mode === m ? \"active\" : \"\"}`}\r\n              onClick={() => {\r\n                setMode(m);\r\n                setRunning(false);\r\n                setEndAt(null);\r\n                flashTitleStop(originalTitleRef, flasherRef);\r\n              }}\r\n            >\r\n              {m === \"focus\" ? \"Focus\" : m === \"short\" ? \"Short\" : \"Long\"}\r\n            </button>\r\n          ))}\r\n        </div>\r\n\r\n        {/* Bell shows state: 🔕 (not granted) / 🔔 (granted) */}\r\n        <button className=\"pill\" onClick={requestPermission} title=\"Enable notifications\" disabled={perm === \"unsupported\"}>\n          {perm === \"granted\" ? \"🔔\" : \"🔕\"}\r\n        </button>\r\n      </div>\r\n\r\n      {activeTaskTitle && (\r\n        <div className=\"pomodoro__task\" title=\"Active task\">\r\n          🎯 {activeTaskTitle}\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"pomodoro__timer\">{format(remaining)}</div>\r\n\r\n      <div className=\"pomodoro__controls\">\r\n        {!running ? (\r\n          <button className=\"btn\" onClick={() => start()}>Start</button>\r\n        ) : (\r\n          <button className=\"btn\" onClick={pause}>Pause</button>\r\n        )}\r\n        <button className=\"btn\" onClick={reset}>Reset</button>\r\n        <button className=\"btn\" onClick={skip}>Skip</button>\r\n      </div>\r\n\r\n      <details className=\"pomodoro__settings\">\r\n        <summary>Settings</summary>\r\n        <div className=\"grid2\">\r\n          <label>Focus (min)\r\n            <input type=\"number\" min={1}\r\n              value={settings.focusMin}\r\n              onChange={(e) => setSettings(s => ({...s, focusMin: +e.target.value || 1}))}/>\r\n          </label>\r\n          <label>Short break (min)\r\n            <input type=\"number\" min={1}\r\n              value={settings.shortMin}\r\n              onChange={(e) => setSettings(s => ({...s, shortMin: +e.target.value || 1}))}/>\r\n          </label>\r\n          <label>Long break (min)\r\n            <input type=\"number\" min={1}\r\n              value={settings.longMin}\r\n              onChange={(e) => setSettings(s => ({...s, longMin: +e.target.value || 1}))}/>\r\n          </label>\r\n          <label>Cycles before long\r\n            <input type=\"number\" min={1}\r\n              value={settings.cyclesBeforeLong}\r\n              onChange={(e) => setSettings(s => ({...s, cyclesBeforeLong: Math.max(1, +e.target.value || 1)}))}/>\r\n          </label>\r\n          <label className=\"rowFlex\">\r\n            <input type=\"checkbox\"\r\n              checked={settings.autoStartNext}\r\n              onChange={(e) => setSettings(s => ({...s, autoStartNext: e.target.checked}))}/>\r\n              Auto-start next\r\n          </label>\r\n          <div className=\"muted\">Completed in block: {cycle}</div>\r\n        </div>\r\n      </details>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PomodoroTimer;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}