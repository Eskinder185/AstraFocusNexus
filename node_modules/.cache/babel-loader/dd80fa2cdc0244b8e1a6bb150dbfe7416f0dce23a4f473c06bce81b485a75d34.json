{"ast":null,"code":"import React,{useMemo}from\"react\";import PageHeader from\"../components/PageHeader\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const emojiDefaults=[\"üéØ\",\"üèãÔ∏è\",\"üìö\",\"üíº\",\"üíµ\",\"üßò\",\"üß†\",\"üí°\",\"‚ù§Ô∏è\",\"üèÉ\",\"üéµ\",\"üé®\",\"üßë‚Äçüç≥\"];const Goals=_ref=>{let{goals,setGoals,goalTitle,setGoalTitle,goalEmoji,setGoalEmoji,setGoalPref,tasks}=_ref;const addGoal=()=>{const title=goalTitle.trim();if(!title)return;const g={id:Date.now(),title,emoji:goalEmoji};setGoals([...goals,g]);setGoalTitle(\"\");};const progress=useMemo(()=>{const m=new Map();for(const t of tasks){var _m$get;if(t.goalId==null)continue;const v=(_m$get=m.get(t.goalId))!==null&&_m$get!==void 0?_m$get:{total:0,done:0};v.total+=1;if(t.completed)v.done+=1;m.set(t.goalId,v);}return m;},[tasks]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(PageHeader,{icon:\"\\uD83C\\uDFAF\",title:\"Goals\",subtitle:\"Connect tasks to bigger outcomes\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"goal-add\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"label\",children:\"Pick a symbol\"}),/*#__PURE__*/_jsx(\"div\",{className:\"emoji-grid\",children:emojiDefaults.map(e=>/*#__PURE__*/_jsx(\"button\",{className:\"emoji-pick\"+(goalEmoji===e?\" selected\":\"\"),onClick:()=>setGoalEmoji(e),children:e},e))}),/*#__PURE__*/_jsxs(\"div\",{className:\"goal-input-row\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"input\",placeholder:\"Add a new goal (e.g., Stronger body)\",value:goalTitle,onChange:e=>setGoalTitle(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:addGoal,children:\"Add\"})]})]}),goals.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"muted\",style:{marginTop:8},children:\"No goals yet. Add one, then link tasks to it.\"}):/*#__PURE__*/_jsx(\"ul\",{className:\"goals\",children:goals.map(g=>{var _progress$get,_g$emoji;const prog=(_progress$get=progress.get(g.id))!==null&&_progress$get!==void 0?_progress$get:{total:0,done:0};const pct=prog.total?Math.round(prog.done/prog.total*100):0;return/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"goal-emoji\",children:(_g$emoji=g.emoji)!==null&&_g$emoji!==void 0?_g$emoji:\"üéØ\"}),/*#__PURE__*/_jsx(\"span\",{className:\"goal-title\",children:g.title}),/*#__PURE__*/_jsx(\"div\",{className:\"bar\",children:/*#__PURE__*/_jsx(\"div\",{className:\"fill\",style:{width:\"\".concat(pct,\"%\")}})}),/*#__PURE__*/_jsxs(\"span\",{className:\"goal-stat\",children:[prog.done,\"/\",prog.total]}),/*#__PURE__*/_jsx(\"button\",{className:\"pill\",onClick:()=>setGoalPref(g.id),title:\"Attach new tasks to this goal\",children:\"Use for new tasks\"})]},g.id);})})]})]});};export default Goals;","map":{"version":3,"names":["React","useMemo","PageHeader","jsx","_jsx","jsxs","_jsxs","emojiDefaults","Goals","_ref","goals","setGoals","goalTitle","setGoalTitle","goalEmoji","setGoalEmoji","setGoalPref","tasks","addGoal","title","trim","g","id","Date","now","emoji","progress","m","Map","t","_m$get","goalId","v","get","total","done","completed","set","children","icon","subtitle","className","map","e","onClick","placeholder","value","onChange","target","length","style","marginTop","_progress$get","_g$emoji","prog","pct","Math","round","width","concat"],"sources":["C:/Users/eskew/github/AstraFocusNexus/src/pages/Goals.tsx"],"sourcesContent":["import React, { useMemo } from \"react\";\nimport PageHeader from \"../components/PageHeader\";\n\ntype Priority = \"UI\" | \"UN\" | \"NI\" | \"NN\";\ninterface Task { id:number; text:string; completed:boolean; goalId?:number|null; priority?:Priority; }\ninterface Goal { id:number; title:string; emoji?:string; }\n\ninterface GoalsProps {\n  goals: Goal[]; setGoals: (g: Goal[]) => void;\n  goalTitle: string; setGoalTitle: (v: string) => void;\n  goalEmoji: string; setGoalEmoji: (v: string) => void;\n  setGoalPref: (id: number|null)=>void;\n  tasks: Task[];\n}\n\nconst emojiDefaults = [\"üéØ\",\"üèãÔ∏è\",\"üìö\",\"üíº\",\"üíµ\",\"üßò\",\"üß†\",\"üí°\",\"‚ù§Ô∏è\",\"üèÉ\",\"üéµ\",\"üé®\",\"üßë‚Äçüç≥\"];\n\nconst Goals: React.FC<GoalsProps> = ({ goals, setGoals, goalTitle, setGoalTitle, goalEmoji, setGoalEmoji, setGoalPref, tasks }) => {\n  const addGoal = () => {\n    const title = goalTitle.trim();\n    if (!title) return;\n    const g: Goal = { id: Date.now(), title, emoji: goalEmoji };\n    setGoals([...goals, g]);\n    setGoalTitle(\"\");\n  };\n\n  const progress = useMemo(() => {\n    const m = new Map<number, { total: number; done: number }>();\n    for (const t of tasks) {\n      if (t.goalId == null) continue;\n      const v = m.get(t.goalId) ?? { total: 0, done: 0 };\n      v.total += 1; if (t.completed) v.done += 1;\n      m.set(t.goalId, v);\n    }\n    return m;\n  }, [tasks]);\n\n  return (\n    <div>\n      <PageHeader icon=\"üéØ\" title=\"Goals\" subtitle=\"Connect tasks to bigger outcomes\" />\n      <div className=\"card\">\n        <div className=\"goal-add\">\n          <div className=\"label\">Pick a symbol</div>\n          <div className=\"emoji-grid\">\n            {emojiDefaults.map(e => (\n              <button key={e} className={\"emoji-pick\"+(goalEmoji===e?\" selected\":\"\")} onClick={()=>setGoalEmoji(e)}>{e}</button>\n            ))}\n          </div>\n          <div className=\"goal-input-row\">\n            <input className=\"input\" placeholder=\"Add a new goal (e.g., Stronger body)\" value={goalTitle} onChange={(e)=>setGoalTitle(e.target.value)} />\n            <button className=\"btn\" onClick={addGoal}>Add</button>\n          </div>\n        </div>\n\n        {goals.length === 0 ? (\n          <div className=\"muted\" style={{marginTop:8}}>No goals yet. Add one, then link tasks to it.</div>\n        ) : (\n          <ul className=\"goals\">\n            {goals.map(g => {\n              const prog = progress.get(g.id) ?? { total: 0, done: 0 };\n              const pct = prog.total ? Math.round((prog.done / prog.total) * 100) : 0;\n              return (\n                <li key={g.id}>\n                  <span className=\"goal-emoji\">{g.emoji ?? \"üéØ\"}</span>\n                  <span className=\"goal-title\">{g.title}</span>\n                  <div className=\"bar\"><div className=\"fill\" style={{width:`${pct}%`}}/></div>\n                  <span className=\"goal-stat\">{prog.done}/{prog.total}</span>\n                  <button className=\"pill\" onClick={()=>setGoalPref(g.id)} title=\"Attach new tasks to this goal\">Use for new tasks</button>\n                </li>\n              );\n            })}\n          </ul>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Goals;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}